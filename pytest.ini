
[pytest]
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = -v
          --tb=short
          -rA
          -n auto
          --dist=loadfile
          --strict-markers
          --cov=src
          --cov-report=term-missing
          --cov-report=html
testpaths = tests
markers =
    smoke: Дымовые тесты для критического функционала
    regression: Полный набор регрессионных тестов
    slow: Медленные тесты (например, с доступом к сети)
    skip: Эта функциональность будет реализована в версии 2.0
    skipif: Требуется Python 3.10 или выше
    xfail: Известный баг с точностью float, будет исправлен в #TICKET-123

# Запустить с максимальной детализацией
# pytest -v --cov=src.shop.cart.endpoints.endpoints_cart --cov-report=term-missing --cov-report=html

# Открыть отчет в браузере
# python -m webbrowser htmlcov/index.html
